arrakis_struggle = {
    cultures = {
        fremen_culture
        imperial_culture
    }

    faiths = {
        zensunni_faith
        orange_catholic_faith
    }

    regions = {
        world_arrakis
    }

    involvement_prerequisite = {
        culture = { has_cultural_pillar = heritage_arabic }
        OR = {
            culture = culture:fremen_culture
            culture = culture:imperial_culture
        }
    }

    on_start = {
        trigger_event = {
            id = arrakis_struggle.001
            days = 1
        }
    }

    start_phase = arrakis_struggle_oppression

    phases = {
        arrakis_struggle_oppression = {
            duration = { years = 1 }

            background = "gfx/interface/illustrations/struggle_backgrounds/struggle_arrakis_oppression.dds"

            future_phases = {
                arrakis_struggle_resistance = {
                    default = yes
                }
            }

            war_effects = {
                common_parameters = {
                    fremen_can_raid = yes
                    harkonnen_can_mass_arrest = yes
                }
            }

            on_monthly = {
                effect = {
                    random = {
                        chance = 5
                        trigger_event = { id = arrakis_struggle.100 }
                    }
                }
            }

            ending_decisions = { }

            # Phase modifiers
            all_county_modifier = {
                county_opinion_add = -20
                development_growth_factor = -0.25
            }

            interloper_modifier = {
                monthly_prestige = -0.5
                hostile_scheme_resistance_add = -10
            }

            involved_modifier = {
                monthly_piety = 0.25
                advantage = 2
            }
        }

        arrakis_struggle_resistance = {
            duration = { years = 1 }

            background = "gfx/interface/illustrations/struggle_backgrounds/struggle_arrakis_resistance.dds"

            future_phases = {
                arrakis_struggle_open_war = {
                    default = yes
                }
            }

            war_effects = {
                common_parameters = {
                    fremen_guerrilla_bonus = yes
                    harkonnen_reprisals = yes
                }
            }

            on_monthly = {
                effect = {
                    random = {
                        chance = 8
                        trigger_event = { id = arrakis_struggle.200 }
                    }
                }
            }

            ending_decisions = { }

            all_county_modifier = {
                county_opinion_add = -30
                development_growth_factor = -0.5
                tax_mult = -0.25
            }

            interloper_modifier = {
                monthly_prestige = -1
                enemy_hostile_scheme_success_chance_add = 15
                dread_loss_mult = 0.25
            }

            involved_modifier = {
                monthly_piety = 0.5
                advantage = 5
                levy_reinforcement_rate = 0.25
            }
        }

        arrakis_struggle_open_war = {
            duration = { years = 1 }

            background = "gfx/interface/illustrations/struggle_backgrounds/struggle_arrakis_war.dds"

            future_phases = {
                arrakis_struggle_resolution = {
                    default = yes
                }
            }

            war_effects = {
                common_parameters = {
                    open_warfare = yes
                    sandworm_attacks = yes
                }
            }

            on_monthly = {
                effect = {
                    random = {
                        chance = 10
                        trigger_event = { id = arrakis_struggle.300 }
                    }
                }
            }

            on_phase_entered = {
                trigger_event = { id = arrakis_struggle.350 days = 30 }
            }

            ending_decisions = { }

            all_county_modifier = {
                county_opinion_add = -40
                development_growth_factor = -0.75
                tax_mult = -0.5
                levy_mult = -0.25
            }

            interloper_modifier = {
                monthly_prestige = -2
                army_maintenance_mult = 0.25
                enemy_hostile_scheme_success_chance_add = 25
            }

            involved_modifier = {
                monthly_piety = 1
                advantage = 8
                levy_reinforcement_rate = 0.5
                levy_mult = 0.25
            }
        }

        arrakis_struggle_resolution = {
            duration = { years = 100 }

            background = "gfx/interface/illustrations/struggle_backgrounds/struggle_arrakis_resolution.dds"

            future_phases = { }

            on_phase_entered = {
                trigger_event = { id = arrakis_struggle.400 days = 7 }
            }

            ending_decisions = {
                arrakis_struggle_fremen_victory_decision
                arrakis_struggle_harkonnen_dominance_decision
            }

            all_county_modifier = {
                county_opinion_add = -20
            }
        }
    }
}